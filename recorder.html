<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Recorder &mdash; intel realsense devices 0.post188+g0c68f12 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/plot_directive.css" type="text/css" />
      <link rel="stylesheet" href="_static/copybutton.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/clipboard.min.js"></script>
        <script src="_static/copybutton.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Release History" href="release-history.html" />
    <link rel="prev" title="Examples" href="examples.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> intel realsense devices
          </a>
              <div class="version">
                0.post188+g0c68f12
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="driver.html">Driver</a></li>
<li class="toctree-l1"><a class="reference internal" href="device.html">Device</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Recorder</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#how-it-runs">How it runs</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="release-history.html">Release History</a></li>
<li class="toctree-l1"><a class="reference internal" href="min_versions.html">Minimum Version of Python and NumPy</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration_file.html">Configuration File</a></li>
<li class="toctree-l1"><a class="reference internal" href="stream.html">Stream</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">intel realsense devices</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Recorder</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/recorder.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="recorder">
<h1>Recorder<a class="headerlink" href="#recorder" title="Permalink to this heading">¶</a></h1>
<p>This is a higher level application that records and stores in live images/data from the camera.</p>
<p>The recorder can either be ran as a script using arguments or can be ran as a module.</p>
<p>To run the recorder as a script using arguments:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">intel_realsense_devices</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;current version of the library is </span><span class="si">{</span><span class="n">intel_realsense_devices</span><span class="o">.</span><span class="n">__version__</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="n">python</span> <span class="n">recorder</span><span class="o">.</span><span class="n">py</span> <span class="s2">&quot;YOUR CONFIG FILE&quot;</span> <span class="s2">&quot;YOUR H5PY FILE&quot;</span>
</pre></div>
</div>
<p>To run the recorder as a module:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">intel_realsense_devices</span>
<span class="kn">from</span> <span class="nn">intel_realsense_devices.higher_applications.recorder</span> <span class="kn">import</span> <span class="n">Recorder</span>
<span class="n">recorder</span> <span class="o">=</span> <span class="n">Recorder</span><span class="p">(</span><span class="s2">&quot;YOUR CONFIG FILE&quot;</span><span class="p">,</span> <span class="s2">&quot;YOUR H5PY FILE&quot;</span><span class="p">)</span>
<span class="n">recorder</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
<span class="n">recorder</span><span class="o">.</span><span class="n">save_h5py_file</span><span class="p">()</span>
<span class="n">recorder</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
</pre></div>
</div>
<section id="how-it-runs">
<h2>How it runs<a class="headerlink" href="#how-it-runs" title="Permalink to this heading">¶</a></h2>
<p>Recorder starts out by initializing the lower level classes. The script then starts the recorder.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">recorder</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</pre></div>
</div>
<p>The start function starts the device and creates a thread running the record function. It then runs a live
stream on the main thread. The record function continues to run the device until it receives enough frames,
which is the length of the frame buffer length.</p>
<p>On the main thread it runs:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">stream</span><span class="o">.</span><span class="n">cv2_live_stream_buffer</span><span class="p">()</span>
</pre></div>
</div>
<p>This is a function in the stream module that live streams the last image insereted into the circular buffers.
This uses the cv2 library instead of the matplotlib library. The cv2 library can render faster then the plt,
so there are no delays. This is also beneficiary as we won’t have to worry about skipping frames due to the
matplotlib taking time to render images.</p>
<p>It then saves data into a H5py file with:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">recorder</span><span class="o">.</span><span class="n">save_h5py_file</span><span class="p">()</span>
</pre></div>
</div>
<p>This function takes the data from the circular buffers and creates the following data sets to store them in:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="s1">&#39;accel&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">,</span> <span class="s1">&#39;depth&#39;</span><span class="p">,</span> <span class="s1">&#39;frameN&#39;</span><span class="p">,</span> <span class="s1">&#39;gyro&#39;</span><span class="p">,</span> <span class="s1">&#39;infrared&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>It then orderly shutsdown the lower level of the system</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">recorder</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="examples.html" class="btn btn-neutral float-left" title="Examples" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="release-history.html" class="btn btn-neutral float-right" title="Release History" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Valentyn Stadnytskyi.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>